# NeuShield 疑難雜症
###### tags: `NeuShield`

簡報後Demo
===




::: info

準備好自己的環境，Demo時間為10-15分鐘。
過程中須包含資料夾還原、Data Engrams、NeuRestore一鍵還原。
同時也必須包含使用管理介面，進行遠端還原。
請展現NeuShield簡單、明瞭的形象。
:::

- 主要的三個功能

    快速講解三個NeuShield的功能。
    讓整體過程覺得簡單俐落。
    詳細的東西留給客戶提問的時候回答。

- 模擬情境

    提供給OA辦公使用，檔案修改錯誤後還不小心儲存後，
    可以直接利用ENGRAM把他還回到未修改之前。
    可以直接做一個 PPT, PDF, Word 刪除頁面並儲存，
    模擬 User 可能發生的情境來帶入 Demo。


POC Demo
===
:::info
從客戶收到第一封NeuShield的註冊信開始，從無到有的測試。
過程中須包含資料夾還原、Data Engrams、NeuRestore一鍵還原。
同時也必須包含使用管理介面，每個標籤的說明。
請展現讓管理員好操作、管理的方式，讓產品顯得不複雜。
:::

- POC階段有沒有提供有感測試？
  立場上不行，提供勒索軟體可能造成不能預期的傷害。

客戶的疑慮
===
 - 排斥雲
 - 希望資料全落地
 - 跟備份有甚麼不一樣？
     - [ROGER的NeuShield視角](https://drive.google.com/drive/folders/1kd9LWOC6qooRpfdHBz6LaSITreAiZRJX?usp=sharing)


:::warning
要注意一下客戶的反應，
確認他們有沒有理解。

不要跟對方的技術人員FIGHT。
不要跟客戶講不明確的事情。
:::


About NeuShield
===

:::spoiler 勒索軟體

勒索軟體會加密的檔案？
>影音/圖片/辦公/PDF(有價檔案)
>
>[勒索軟體案例](https://123.i7799.com/blackmail.html)
>[color=#ea2910]


---
:::




:::spoiler 用戶端介面

email取得安裝連結？
>中控台可下載安裝檔

需連網安裝(？
> 對？

是否支援遠端派送？支援哪一些工具？
> ![NeuShield Document](https://i.imgur.com/LQmhSyV.jpg)派送工具支援列表
Microsoft SCCM 要錢，通常使用 Microsoft AD GPO。


開機型、破壞型的偵測會變紅色，只有做警示沒有刪除
![NeuShield 整體概觀](https://i.imgur.com/Syab0xS.png)

還原的文件裡啟用鎖定，鎖定文件再被更改的時間內可以提前結束嗎？
>兩個方法：
1.重開機
2.tray icon點右鍵

---

:::



:::spoiler 三個主要功能

MirrorShielding
---
    一支影片超過 1GB 時，是否可以做保護？
>可以，透過資料夾 Mirror Shielding


DataEngram
---
    為什麼不用更改紀錄裡的還原？
>data engram 打開這份文件的時候 有這個畫面？
開檔案之後有編輯過(關閉儲存的畫面用快捷鍵的話，請和客戶提示一下)

    DataEngram會存在哪裏？
>System Volume Information，是一個隱藏資料夾

One-Click Restore
---
    一件還原
>可以從檔案總管開始講，之後帶到中控台遠端還原。
end端只有上一個還原點，中控有其他版本的還原點。

>Neu Restore(One Click Restore) 
是針對Windows的基碼及資料夾(？)，做到**系統還原但不還原檔案**。

	確認哪個版本是良好的狀態？
>無從查起。可以說，比如昨天使用是正常的，但今天檔案已經遭到加密，可以選擇回到昨天之前的還原點進行還原。

	系統還原點會佔系統空間多大？
>沒有絕對答案。一個還原點大約700-800MB。依照我們筆電250G的大小會產生大約7-8筆。

    這個還原的歷程最多可以建幾筆
>沒有明確版本的數量，會依照硬碟的空間去做，依我們筆電大約會有7-8份的還原點

	整顆硬碟做還原嗎？開機磁區做快照？還原那個快照嗎？和虛擬機快照的差別ㄇ？
>類似快照

系統還原將執行以下動作：
- 系統還原初始化
- 系統還原登陸機碼
- 系統還原移除暫存檔案
- 系統重新啟動

---
:::

:::spoiler 雲端管理介面

    開帳號給客戶>啟用>客戶信裡會有一次性的密碼，請它們修改密碼
>客戶的郵件
>![](https://i.imgur.com/GQ4G0s1.png)

    主機架在哪裏？
>雲端 ，是由neushield那裏維護

    橘色鈴鐺？
>是指沒有偵測到防護軟體

    預設資料夾可以取消保護？
>到中控去更改

DataEngram可以存幾份？
>預設可以存7份，可以到中控台調整0-30份

captcha verification？
>用戶端顯示驗證碼
>![](https://i.imgur.com/evvWTpm.png)


如果硬碟爆掉，使用者已經清出空間了？
>把data engram 數量調低或關掉(和客戶確認)。

有限定資料夾數量(最大值)？有空間限制？
>沒有上限。最多2G。



可以直接做D:/去保護嗎？
>盡量指定路徑資料夾，避免一次還原整個D:/。
>可以直接保護root partition。

Control Overlay????工三小  :rolling_on_the_floor_laughing: 
>暫停提交，啟用後用戶端手動提交的時候會顯示
![](https://i.imgur.com/3AoxOBj.png)



強制還原？
>讓使用者決定是不是要還原

log能夠存放多久？
>一直都在？

---
:::

:::spoiler NeuShield QA

    NeuShield對於企業的實質作用？
>***加速使用者恢復工作流程***

    為什麼要做主動提交？
>模擬overlay commit


    怎麼計算週期開始？
>安裝 NeuShield 完那一刻會建立 commit time。
在非預設的資料夾中，重新建一個保護資料夾開始算，
會重建立他自己的 commit time。

    有三個時間點會建立還原點
1.軟體安裝
2.軟體升級
3.用戶端若在還原點建立時間未開機，會在下一次開機的時候做還原點

    能不能客製時間去做還原點？
>不行。
  

    
    如果勒索軟體是一個檔案？
>就算用「一件還原」他還是沒辦法把惡意程式移除掉，
還是要靠~~貴公司的~~病毒偵測軟體去把它偵測移除。


    無檔案式惡意程式？Fileless Malware
>通常是透過直接直接命令並執行腳本，腳本通常透過遠端。

    端點偵測和回應 Endpoint Detection and Response,EDR
>監控電腦處理程序，找出電腦執行過什麼命令，命令是去執行什麼腳本，通常跟應用程式比較無關，由於無檔案的關係，沒辦法透過病毒偵測偵測到，較為棘手但也較少見。
    









如果客戶不能登入windows，可以用一件還原ㄇ？
>可以，成功率不一定，只能透過開機之後，原本會進入 Windows recovery 的階段，NeuShield 使用者則會進入 NeuShield 的還原頁面。
NeuShield建立的還原點也會在windows的修復還原裡面找得到。

只支援Windows？支援linux？隨身碟可以？NAS可以？
>只支援Windows/不支援linux/隨身碟要看檔案格式(NFTS only)/NAS不可以

檔案格式？
>只要在保護的資料夾裡任何檔案都可以

外接的USB是4GB，可以用ㄇ？
>NFTS才可以，USB 4G通常是FAT不能。

DB的資料夾可以保護ㄇ？
>技術上可以，但不建議。盡量回復不建議。

有沒有先進先出的機制？
>沒有。

授權到期之後能否繼續使用？
>授權到期後，雲端管理及一鍵還原會沒辦法使用。

---
:::



:::spoiler 其他議題

- 指令diskpart？ 磁頭歸位
現在都是SSD，這是舊的磁碟再用的指令。

- 正規架構上，檔案刪除並從資源回收桶刪除，
其實檔案還是在的，可以使用特定軟體復原。

- 邏輯上受保護的資料都還是拉的回來。
convert/格式化做下去任何檔案都救不回來。

- DLP 只保護明碼的檔案，如果加密就不算DLP的範疇了。

- NeuShield 不建議安裝的 Windows server 種類：
 只建議安裝在 File server，其他像是 AD, Exchange, Datebase 都不推薦。

---
:::






:::spoiler 0602實際Demo給客戶遇到的問題

映像快照的數量與占用空間
> 根據每個裝置的磁碟容量不同，舉例自己的電腦 250G 產生 7~8 個快照，每個快照大約 700MB。
> 
一鍵回復的時間
> 有看過 20~60 的裝置，可能需要看這過程中對系統做比較多的更改也會比較久。

NeuShield 效能問題
> 通常在建立還原點的時候會吃較多的效能，但相對防毒軟體來說低很多，一般使用者不會察覺，不會影響使用者使用。

只有支援WIN嗎？
>YES

為什麼不支援 XP？(Tim 額外補充)
> windows對自己以前版本都已EOL(End of Life)了，且許多新的解決方案並不支援舊系統，但可以使用應用程式控制(APP白名單)的方式保護舊系統。

快照的方式是否像是 Ghost 打包映像檔案？
> 類似。
(Ghost 映像檔，包含了 OS, 應用程式安裝等等。)

用戶端要裝AGENT嗎？
>YES

中控台是不是可以知道各個檔案名稱？
>NO，只對資料夾進行保護，檔案不上傳雲端。

---
:::

---------------

### 還原嘗試
#### 失敗案例

- 透過 Windows 進階啟動模式，還原，選擇 NeuShield 還原點，發生 AnyDesk.exe 沒有檔案可以做還原，因此發生還原失敗。

- 透過 Windows 還原 NeuShield 還原點發生防毒軟體阻擋錯誤
![還原失敗，防毒軟體阻擋](https://i.imgur.com/nUaURWw.png)

還原失敗之後發現 Windows 部分功能出現問題，截圖工具無法開啟、輸入法異常，輸入使用者帳號密碼後登入畫面時間倍增，開啟檔案總管時間變長。

#### 成功案例

- 透過 NeuShield 檔案總管中的一件還原，事先關閉 McAfee 防毒軟體，成功還原。還原後電腦回復正常。
  2022/06/16 還原到 2022/06/14 透過 `gpresult /R` 發現在 2022/06/15 所更改的群組原則還原並無法 `gpupdate /force`。
![NeuShield 一鍵還原](https://i.imgur.com/D2EG87u.jpg)

